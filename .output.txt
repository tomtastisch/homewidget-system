    Usage:
        npx playwright show-trace test-results/roles--standard-Roles-stan-842db-olle-wird-korrekt-angezeigt-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  19) [standard] › specs/widgets.basic.spec.ts:15:6 › @minimal Widget Basic › @minimal WIDGET-01: Eigene Widgets anzeigen nach Login
    TimeoutError: locator.waitFor: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByTestId('login.email') to be hidden
        25 × locator resolved to visible <input rows="1" dir="auto" type="email" autocorrect="on" autocomplete="on" spellcheck="true" placeholder="E‑Mail" autocapitalize="none" data-testid="login.email" virtualkeyboardpolicy="auto" value="w1+1765822440212@example.com" class="css-textinput-11aywtz r-placeholderTextColor-6taxm2 r-borderColor-ry2h4h r-borderRadius-1xfd6ze r-borderWidth-rs99b7 r-marginBottom-6gpygo r-padding-xyw6el"/>
       at ../helpers/auth.ts:59
      57 |
      58 |      // Warte auf erfolgreichen Login (Login-Formular verschwindet)
    > 59 |      await page.getByTestId(testIds.loginEmail).waitFor({state: 'hidden', timeout: 10_000});
         |                                                 ^
      60 |
      61 |      // Zusätzliche Verifikation: Nutzer ist wirklich eingeloggt
      62 |      // 1) Der Login-Link auf dem Homescreen sollte nicht mehr sichtbar sein
        at loginAs (/Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/helpers/auth.ts:59:45)
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.basic.spec.ts:22:2
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-74270-Widgets-anzeigen-nach-Login-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-74270-Widgets-anzeigen-nach-Login-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    Error Context: test-results/widgets.basic--minimal-Wid-74270-Widgets-anzeigen-nach-Login-standard/error-context.md
    attachment #4: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-74270-Widgets-anzeigen-nach-Login-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.basic--minimal-Wid-74270-Widgets-anzeigen-nach-Login-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  20) [standard] › specs/widgets.basic.spec.ts:38:6 › @minimal Widget Basic › @minimal WIDGET-02: Widget erstellen und im Feed sehen
    Error: apiRequestContext.post: connect ECONNREFUSED 127.0.0.1:8100
    Call log:
      - → POST http://127.0.0.1:8100/api/auth/register
        - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36
        - accept: */*
        - accept-encoding: gzip,deflate,br
        - content-type: application/json
        - content-length: 65
      40 |      const email = `w2+${Date.now()}@example.com`;
      41 |      const password = 'Secret1234!';
    > 42 |      await api.post('/api/auth/register', {data: {email, password}});
         |                ^
      43 |      const login = await (await api.post('/api/auth/login', {form: {username: email, password}})).json();
      44 |
      45 |      // Erstelle Widget über API (UI hat aktuell keine Widget-Erstellung)
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.basic.spec.ts:42:12
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-c00d4-erstellen-und-im-Feed-sehen-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-c00d4-erstellen-und-im-Feed-sehen-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    attachment #3: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-c00d4-erstellen-und-im-Feed-sehen-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.basic--minimal-Wid-c00d4-erstellen-und-im-Feed-sehen-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  21) [standard] › specs/widgets.basic.spec.ts:59:6 › @minimal Widget Basic › @minimal WIDGET-03: Eigenes Widget löschen
    Error: apiRequestContext.post: connect ECONNREFUSED 127.0.0.1:8100
    Call log:
      - → POST http://127.0.0.1:8100/api/auth/register
        - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36
        - accept: */*
        - accept-encoding: gzip,deflate,br
        - content-type: application/json
        - content-length: 65
      61 |      const email = `w3+${Date.now()}@example.com`;
      62 |      const password = 'Secret1234!';
    > 63 |      await api.post('/api/auth/register', {data: {email, password}});
         |                ^
      64 |      const login = await (await api.post('/api/auth/login', {form: {username: email, password}})).json();
      65 |
      66 |      // Erstelle und lösche Widget über API
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.basic.spec.ts:63:12
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-26ae8-T-03-Eigenes-Widget-löschen-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-26ae8-T-03-Eigenes-Widget-löschen-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    attachment #3: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.basic--minimal-Wid-26ae8-T-03-Eigenes-Widget-löschen-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.basic--minimal-Wid-26ae8-T-03-Eigenes-Widget-löschen-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  22) [standard] › specs/widgets.resilience.spec.ts:12:5 › @standard WIDGET-05: Backend-Fehler bei Widget-Erstellung liefert 500
    Error: apiRequestContext.post: connect ECONNREFUSED 127.0.0.1:8100
    Call log:
      - → POST http://127.0.0.1:8100/api/auth/register
        - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36
        - accept: */*
        - accept-encoding: gzip,deflate,br
        - content-type: application/json
        - content-length: 85
       at ../helpers/auth.ts:178
      176 |
      177 |     // Register user
    > 178 |     const registerRes = await api.post(`${baseUrl}/api/auth/register`, {
          |                                   ^
      179 |             data: {email, password, role},
      180 |     });
      181 |
        at createUserWithRole (/Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/helpers/auth.ts:178:32)
        at loginAsRole (/Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/helpers/auth.ts:208:21)
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.resilience.spec.ts:14:15
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.resilience--standa-09850-dget-Erstellung-liefert-500-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.resilience--standa-09850-dget-Erstellung-liefert-500-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    attachment #3: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.resilience--standa-09850-dget-Erstellung-liefert-500-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.resilience--standa-09850-dget-Erstellung-liefert-500-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  23) [standard] › specs/widgets.security.spec.ts:14:6 › @minimal Widget Security › @minimal WIDGET-04: Fremdes Widget löschen → 404
    Error: apiRequestContext.post: connect ECONNREFUSED 127.0.0.1:8100
    Call log:
      - → POST http://127.0.0.1:8100/api/auth/register
        - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36
        - accept: */*
        - accept-encoding: gzip,deflate,br
        - content-type: application/json
        - content-length: 68
      18 |      const emailA = `owner+${Date.now()}@example.com`;
      19 |      const pwd = 'Secret1234!';
    > 20 |      await api.post('/api/auth/register', {data: {email: emailA, password: pwd}});
         |                ^
      21 |      const loginA = await (await api.post('/api/auth/login', {form: {username: emailA, password: pwd}})).json();
      22 |      const w = await createWidget(api, 'Owned by A', '{}', loginA.access_token);
      23 |
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.security.spec.ts:20:12
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.security--minimal--65720-remdes-Widget-löschen-→-404-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.security--minimal--65720-remdes-Widget-löschen-→-404-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    attachment #3: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.security--minimal--65720-remdes-Widget-löschen-→-404-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.security--minimal--65720-remdes-Widget-löschen-→-404-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  24) [standard] › specs/widgets.security.spec.ts:44:6 › @minimal Widget Security › @minimal WIDGET-06: XSS in Widget-Name wird escaped in UI
    Error: apiRequestContext.post: connect ECONNREFUSED 127.0.0.1:8100
    Call log:
      - → POST http://127.0.0.1:8100/api/auth/register
        - user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36
        - accept: */*
        - accept-encoding: gzip,deflate,br
        - content-type: application/json
        - content-length: 66
      46 |              const email = `xss+${Date.now()}@example.com`;
      47 |              const pwd = 'Secret1234!';
    > 48 |              await api.post('/api/auth/register', {data: {email, password: pwd}});
         |                        ^
      49 |              const login = await (await api.post('/api/auth/login', {form: {username: email, password: pwd}})).json();
      50 |
      51 |              // Erstelle Widget mit XSS-Payload im Namen
        at /Users/tomwerner/IdeaProjects/homewidget-system/tests/e2e/browseri/playwright/specs/widgets.security.spec.ts:48:13
    attachment #1: screenshot (image/png) ──────────────────────────────────────
    test-results/widgets.security--minimal--62e17-get-Name-wird-escaped-in-UI-standard/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────
    attachment #2: video (video/webm) ──────────────────────────────────────────
    test-results/widgets.security--minimal--62e17-get-Name-wird-escaped-in-UI-standard/video.webm
    ────────────────────────────────────────────────────────────────────────────
    attachment #3: trace (application/zip) ─────────────────────────────────────
    test-results/widgets.security--minimal--62e17-get-Name-wird-escaped-in-UI-standard/trace.zip
    Usage:
        npx playwright show-trace test-results/widgets.security--minimal--62e17-get-Name-wird-escaped-in-UI-standard/trace.zip
    ────────────────────────────────────────────────────────────────────────────
  24 failed
    [standard] › specs/auth.basic.spec.ts:14:6 › @minimal Auth Basic › @minimal AUTH-01: Login mit gültigen Daten über UI
    [standard] › specs/auth.basic.spec.ts:33:6 › @minimal Auth Basic › @minimal AUTH-02: Logout über UI
    [standard] › specs/auth.basic.spec.ts:57:6 › @minimal Auth Basic › @minimal AUTH-03: Login mit falschen Credentials zeigt Fehler
    [standard] › specs/auth.resilience.spec.ts:72:6 › @standard Auth Resilience › @standard AUTH-06: Abgelaufener Refresh-Token führt zu Re-Login
    [standard] › specs/auth.resilience.spec.ts:96:6 › @standard Auth Resilience › @standard AUTH-07: Manipuliertes JWT führt zu 401
    [standard] › specs/feed.spec.ts:14:6 › @standard Feed › @standard FEED-01: Home-Feed zeigt eigene Widgets
    [standard] › specs/feed.spec.ts:118:6 › @standard Feed › @standard FEED-03: Feed-Rate-Limit zeigt Fehlermeldung
    [standard] › specs/feed.spec.ts:156:6 › @standard Feed › @standard FEED-04: XSS in Feed-Inhalten wird escaped
    [standard] › specs/feed.spec.ts:215:6 › @standard Feed › @standard FEED-05: Leerer Feed zeigt passende Nachricht
    [standard] › specs/freemium.spec.ts:46:6 › @minimal Freemium System › @minimal FREEMIUM-02: Registrierung → Common-Rolle mit Premium-Button
    [standard] › specs/freemium.spec.ts:87:6 › @minimal Freemium System › @minimal FREEMIUM-03: Premium-Button nur für Common-User sichtbar
    [standard] › specs/freemium.spec.ts:98:6 › @minimal Freemium System › @minimal FREEMIUM-04: Premium-Button führt echtes Upgrade durch
    [standard] › specs/freemium.spec.ts:119:6 › @minimal Freemium System › @minimal FREEMIUM-05: Premium-User sehen keinen Upgrade-Button
    [standard] › specs/infra.resilience.spec.ts:13:6 › @standard Infrastructure Resilience › @standard INFRA-03: Backend nicht erreichbar zeigt Fehler
    [standard] › specs/infra.resilience.spec.ts:46:6 › @standard Infrastructure Resilience › @standard INFRA-04: CORS-Header sind korrekt gesetzt
    [standard] › specs/roles.spec.ts:13:6 › @standard Roles › @standard ROLE-01: Demo-Rolle wird korrekt angezeigt
    [standard] › specs/roles.spec.ts:30:6 › @standard Roles › @standard ROLE-01: Common-Rolle wird korrekt angezeigt
    [standard] › specs/roles.spec.ts:43:6 › @standard Roles › @standard ROLE-01: Premium-Rolle wird korrekt angezeigt
    [standard] › specs/widgets.basic.spec.ts:15:6 › @minimal Widget Basic › @minimal WIDGET-01: Eigene Widgets anzeigen nach Login
    [standard] › specs/widgets.basic.spec.ts:38:6 › @minimal Widget Basic › @minimal WIDGET-02: Widget erstellen und im Feed sehen
    [standard] › specs/widgets.basic.spec.ts:59:6 › @minimal Widget Basic › @minimal WIDGET-03: Eigenes Widget löschen
    [standard] › specs/widgets.resilience.spec.ts:12:5 › @standard WIDGET-05: Backend-Fehler bei Widget-Erstellung liefert 500
    [standard] › specs/widgets.security.spec.ts:14:6 › @minimal Widget Security › @minimal WIDGET-04: Fremdes Widget löschen → 404
    [standard] › specs/widgets.security.spec.ts:44:6 › @minimal Widget Security › @minimal WIDGET-06: XSS in Widget-Name wird escaped in UI
  2 skipped
  6 passed (27.8s)
